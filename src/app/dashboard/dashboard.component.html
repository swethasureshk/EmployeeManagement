
<div class="card-wrapper">
  <h1>Employees</h1>
  <table>
    <tr>
      <th>Employee ID</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Email</th>
      <th>Phone</th>
      <th>Department</th>
      <th>Designation</th>
      <!-- <th>Date of Joining</th> -->
      <!-- <th>Salary</th> -->
      <!-- <th>Address</th> -->
      <!-- <th>Skills</th> -->
      <!-- <th>Active</th> -->
      <th>Actions</th>
    </tr>
    <tr *ngFor="let employee of employees">
      <td>{{ employee.employeeId }}</td>
      <td>{{ employee.firstName }}</td>
      <td>{{ employee.lastName }}</td>
      <td>{{ employee.email }}</td>
      <td>{{ employee.phone }}</td>
      <td>{{ employee.department }}</td>
      <td>{{ employee.designation }}</td>
      <!-- <td>{{ employee.dateOfJoining.$date | date }}</td> -->
      <!-- <td>{{ employee.salary | currency }}</td> -->
      <!-- <td>{{ employee.address.street }}, {{ employee.address.city }}, {{ employee.address.state }} - {{ employee.address.zip }}</td> -->
      <!-- <td>{{ employee.skills.join(', ') }}</td> -->
      <!-- <td>{{ employee.isActive ? 'Yes' : 'No' }}</td> -->

      <td>
        <button (click)="confirmView(employee)">View</button>
        <button (click)="confirmEdit(employee)">Edit</button>
        <button (click)="confirmDelete(employee.employeeId)">Delete</button>
      </td>
      
    </tr>
  </table>
</div>

<div *ngIf="showViewModal" class="modal">
  <div class="modal-content">
    <h2>Employee Details</h2>
    <p><strong>Employee ID:</strong> {{ selectedEmployee?.employeeId }}</p>
    <p><strong>First Name:</strong> {{ selectedEmployee?.firstName }}</p>
    <p><strong>Last Name:</strong> {{ selectedEmployee?.lastName }}</p>
    <p><strong>Email:</strong> {{ selectedEmployee?.email }}</p>
    <p><strong>Phone:</strong> {{ selectedEmployee?.phone }}</p>
    <p><strong>Department:</strong> {{ selectedEmployee?.department }}</p>
    <p><strong>Designation:</strong> {{ selectedEmployee?.designation }}</p>
    <p><strong>Date of Joining:</strong> {{ selectedEmployee?.dateOfJoining?.$date | date }}</p> <!-- Modify here -->
    <p><strong>Salary:</strong> {{ selectedEmployee?.salary | currency }}</p>
    <p><strong>Address:</strong> {{ selectedEmployee?.address?.street }}, {{ selectedEmployee?.address?.city }}, {{ selectedEmployee?.address?.state }} - {{ selectedEmployee?.address?.zip }}</p>
    <p><strong>Skills:</strong> {{ selectedEmployee?.skills?.join(', ') }}</p>
    <p><strong>Active:</strong> {{ selectedEmployee?.isActive ? 'Yes' : 'No' }}</p>
    <button (click)="closeViewModal()">Close</button>
  </div>
</div>

<div *ngIf="showEditModal" class="modal">
  <div class="modal-content">
    <h2>Edit Employee</h2>
    <form (ngSubmit)="saveChanges()">
      <label for="firstName">First Name:</label>
      <input type="text" id="firstName" [(ngModel)]="selectedEmployee.firstName" name="firstName" required />
      <label for="lastName">Last Name:</label>
      <input type="text" id="lastName" [(ngModel)]="selectedEmployee.lastName" name="lastName" required />
      <label for="email">Email:</label>
      <input type="email" id="email" [(ngModel)]="selectedEmployee.email" name="email" required />
      <label for="phone">Phone:</label>
      <input type="text" id="phone" [(ngModel)]="selectedEmployee.phone" name="phone" required />
      <label for="department">Department:</label>
      <input type="text" id="department" [(ngModel)]="selectedEmployee.department" name="department" required />
      <label for="designation">Designation:</label>
      <input type="text" id="designation" [(ngModel)]="selectedEmployee.designation" name="designation" required />
      <button type="submit">Save Changes</button>
      <button (click)="closeEditModal()">Cancel</button>
    </form>
  </div>
</div>



<div *ngIf="showDeleteModal" class="modal">
  <div class="modal-content">
    <h2>Confirm Deletion</h2>
    <p>Are you sure you want to delete this employee?</p>
    <button (click)="deleteEmployee()">Yes</button>
    <button (click)="closeDeleteModal()">No</button>
  </div>
</div>

